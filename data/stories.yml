version: "2.0"

stories: 
  - story: bot introduction
    steps: 
    - intent: initiate_bot_greet
    - action: utter_bot_introduction
    - action: get_name_user_form
    - active_loop: get_name_user_form
    - active_loop: null
    - action: action_user_logged_in
    - action: utter_ask_user_emotion
    - intent: positive_emotion
    - action: utter_user_positive_emotion.response
    - action: utter_ask_user_what_can_be_helped

  #start - user response with negative emotion
  - story: user response with negative emotion
    steps:
    - intent: negative_emotion
    - action: utter_user_negative_emotion.response_1
    - action: utter_user_negative_emotion.response_2

  #user share their thoughts - yes
  - story: user want to share their thoughts
    steps:
    - intent: start_share_thoughts_yes
    - action: get_user_negative_thoughts_form
    - active_loop: get_user_negative_thoughts_form
    - active_loop: null
    - action: utter_after_user_share_thoughts.response
    - action: utter_ask_user_reframe_thoughts 
    - intent: start_reframe_thoughts_yes
    #lanjutkan ini besok untuk reframing thought

  #user share their thoughts - no 
  - story: user dont want to share their thoughts
    steps:
    - intent: start_share_thoughts_no
    - action: utter_ask_user_reframe_thoughts
  #end - user response with negative emotion

  #start - bot provide menu options
  - story: user choose menu options - story topics
    steps:
    - intent: menu_options_story_topics
    - action: utter_menu_options_story_topics.response_1
    - action: utter_menu_options_story_topics.response_2
  
  - story: user choose menu options - brief cope
    steps:
    - intent: menu_options_brief_cope
    - action: utter_how_to_choose_coping_strategy.response_1
    - action: utter_start_brief_cope.confirmation

  - story: user choose menu options - explore mental disorders
    steps:
    - intent: menu_options_explore_mental_disorders
    - action: utter_menu_options_explore_mental_disorders.response
    - action: action_get_mental_disorder_list
    - action: get_explore_mental_disorder_name_form
    - active_loop: get_explore_mental_disorder_name_form
    - active_loop: null
    - action: action_get_mental_disorder_detail #short description
    - intent: continue_explore_mental_disorders
    - action: action_get_mental_disorder_detail #types
    - intent: continue_explore_mental_disorders 
    - action: action_get_mental_disorder_detail #signs  and sympthomps
    - intent: continue_explore_mental_disorders 
    - action: action_get_mental_disorder_detail #causes
    - intent: continue_explore_mental_disorders
    - action: action_get_mental_disorder_detail #diagnosis
    - intent: continue_explore_mental_disorders
    - action: action_get_mental_disorder_detail #complications
    - intent: continue_explore_mental_disorders
    - action: action_get_mental_disorder_detail #how to treat
    - intent: continue_explore_mental_disorders
    - action: action_get_mental_disorder_detail #how to prevent
    - action: action_reset_explore_mental_disorder

  - story: user choose menu options - just write
    steps:
    - intent: menu_options_just_write
    - action: utter_menu_options_just_write.response
  #end - bot provide menu options 

  #start - emergency situation path
  - story: ask user if really in emergency situation
    steps:
    - intent: suicide_terms
    - action: utter_suicide_terms.confirmation_1
    - action: utter_suicide_terms.confirmation_2
  
  #user in emergency situation
  - story: user in emergency situation
    steps:
    - intent: suicide_terms_positive
    - action: utter_suicide_terms.positive_response_1
    - checkpoint: provide_suicide_hotline_information

  #user not in emergency situation
  - story: user not in emergency situation
    steps:
    - intent: suicide_terms_negative
    - action: utter_suicide_terms.negative_response_1
    - action: utter_suicide_terms.negative_response_2

  #user friends or families in emergency situation
  - story: user friends or families in emergency situation
    steps: 
    - intent: suicide_terms_someone_else
    - action: utter_suicide_terms.someone_else_response_1
    - checkpoint: provide_suicide_hotline_information

  #bot missunderstood about suicide terms
  - story: bot missunderstood about suicide terms
    steps:
    - intent: suicide_terms_unrecognized
    - action: utter_suicide_terms.unrecognized_response_1
    - action: utter_suicide_terms.unrecognized_response_2
    - action: utter_suicide_terms.unrecognized_response_3

  #provide user suicide hotline information
  - story: provide user suicide hotline information
    steps:
    - checkpoint: provide_suicide_hotline_information
    - action: utter_suicide_terms.positive_response_2
    - action: utter_suicide_terms.positive_response_3
    - action: utter_suicide_terms.hotline_1
    - action: utter_suicide_terms.hotline_2
    - action: utter_suicide_terms.hotline_3
    - action: utter_suicide_terms.hotline_4
    - action: utter_suicide_terms.hotline_5
    - action: utter_ensure_seek_help.crisis_confirmation

  #ensure user to call hotline for seek help
  - story: user seek help
    steps:
    - intent: ensure_seek_help[crisis]_yes
    - action: utter_ensure_seek_help.crisis_response_1
    - action: utter_ensure_seek_help.crisis_response_3
    - action: utter_suicide_terms.quotes  
    - action: utter_ensure_seek_help.crisis_response_4

  - story: user dont want to seek help
    steps:
    - intent: ensure_seek_help[crisis]_no
    - action: utter_ensure_seek_help.crisis_response_2
  #end - emergency situation path